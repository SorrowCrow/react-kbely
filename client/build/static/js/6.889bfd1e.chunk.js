(this["webpackJsonpreact-kbely"]=this["webpackJsonpreact-kbely"]||[]).push([[6],{16:function(e,t,n){"use strict";t.a=n.p+"static/media/icon.12f4e097.svg"},70:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(18),r=n(4),c=n(24),i=n.n(c),o=n(25),l=n(26),d=n.n(l),j=n(0),m=Object(a.createContext)(),u=Object(a.createContext)();function b(){return Object(a.useContext)(m)}function h(){return Object(a.useContext)(u)}function O(e){var t=e.children,n={GET_DATA:"getData",SET_SECOND_DATE:"setSecondDate",SET_DATE:"setDate",SET_MONTH:"setMonth",SET_YEARLOOP:"setYearloop",SET_TIME:"setTime",SET_INSERT_MENU:"setInsertMenu",SET_RESERVED_ARRAY:"setReservedArray",INCREASE_MONTH:"increaseMonth",DECREASE_MONTH:"decreaseMonth"};function c(e,t){t.parentNode.insertBefore(e,t.nextSibling)}var l=Object(a.useReducer)((function(e,t){switch(t.type){case n.GET_DATA:return Object(s.a)({},e);case n.SET_SECOND_DATE:return Object(s.a)(Object(s.a)({},e),{},{secondDate:t.payload.secondDate});case n.SET_DATE:return Object(s.a)(Object(s.a)({},e),{},{date:t.payload.date});case n.SET_RESERVED_ARRAY:return Object(s.a)(Object(s.a)({},e),{},{reservedArray:t.payload.reservedArray});case n.INCREASE_MONTH:return 11===e.month&&0===e.yearLoop?Object(s.a)(Object(s.a)({},e),{},{secondDate:0,month:0,yearLoop:1}):e.month!==e.currentMonth||1!==e.yearLoop?Object(s.a)(Object(s.a)({},e),{},{secondDate:0,month:e.month+1}):Object(s.a)({},e);case n.DECREASE_MONTH:return 0===e.month&&1===e.yearLoop?Object(s.a)(Object(s.a)({},e),{},{secondDate:0,month:11,yearLoop:0}):e.month!==e.currentMonth||0!==e.yearLoop?Object(s.a)(Object(s.a)({},e),{},{secondDate:0,month:e.month-1}):Object(s.a)({},e);case n.SET_MONTH:return Object(s.a)(Object(s.a)({},e),{},{month:t.payload.month});case n.SET_YEARLOOP:return Object(s.a)(Object(s.a)({},e),{},{yearLoop:t.payload.yearLoop});case n.SET_TIME:return null!==t.payload.time||(document.getElementsByTagName("body")[0].style.overflow=""),Object(s.a)(Object(s.a)({},e),{},{time:t.payload.time});case n.SET_INSERT_MENU:return Object(s.a)(Object(s.a)({},e),{},{reservedArray:t.payload.reservedArray,secondDate:Number(t.payload.secondDate),date:t.payload.date});default:return console.log("error")}}),{month:(new Date).getMonth(),currentMonth:(new Date).getMonth(),year:(new Date).getFullYear(),yearLoop:0,time:null,date:"1",hours:Number,secondDate:0,reservedArray:[],ACTIONS:n,insertSelect:function(){setTimeout((function(){document.getElementById("openedRef").style.height="auto";var e=document.getElementById("openedRef").clientHeight+"px";document.getElementById("openedRef").style.height="",window.requestAnimationFrame((function(){setTimeout((function(){document.getElementById("openedRef").style.height=e}))}))}))},insertMenu:function(e,t,n){return v.apply(this,arguments)},removeMenu:function(){document.getElementById("chooseHoursMenu").classList.remove("chooseUnhidden")},removeSelect:function(e){document.getElementById("openedRef").style.height="",e&&O({type:n.SET_TIME,payload:{time:e}})}}),b=Object(r.a)(l,2),h=b[0],O=b[1];function v(){return(v=Object(o.a)(i.a.mark((function e(t,a,s){var r,o,l,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O({type:n.SET_RESERVED_ARRAY,payload:{reservedArray:[]}}),e.next=3,d.a.get("/api/reservationItems/"+a);case 3:for(r=e.sent,o=[],l=0;l<Object.keys(r.data).length;l++)j=r.data[l].time,o[l]=[j.slice("",j.indexOf(":")),j.slice(j.indexOf(":")+1,j.indexOf("-")),j.slice(j.indexOf("-")+1).slice("",j.indexOf(":")),j.slice(j.indexOf("-")+1).slice(j.indexOf(":")+1)];O({type:n.SET_INSERT_MENU,payload:{reservedArray:o,secondDate:Number(s),date:a}}),setTimeout((function(){window.requestAnimationFrame((function(){document.getElementsByClassName("choose")[0].classList.add("chooseUnhidden")}))})),t&&c(document.getElementById("chooseHours"),document.getElementsByClassName(t)[0]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsx)(m.Provider,{value:h,children:Object(j.jsx)(u.Provider,{value:O,children:t})})}var v=n(63),x=void 0,p=function(e){var t=e.timeframeData,n=b();function a(){return(t.workingHours-1)%3!==0&&t.workingHours%3!==0}function s(){if(t.halfBool){var e=t.workingHours;if(e%3===0)return e/3;for(;e%3!==0;)e--;return e/3}if(t.threeHoursBool){for(var n=t.workingHours;n%3!==0;)n--;return n/3}return Object(v.a)(Array(t.workingHours)).map((function(e,t){return t})).filter((function(e){return e%t.indexHour===0}))}function r(e){var t=e.target;if(t.classList.contains("timeframe")){var a=t.childNodes[0].innerText.toString();n.removeSelect(a)}else{var s=t.textContent.toString().split(" ");n.removeSelect(s)}}function c(e,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(new Date).getHours(),c=Number(String((new Date).getDate()).padStart(2,"0"));if(e<=r&&c===n.secondDate&&(n.month===n.currentMonth||0!==s)&&1!==n.yearLoop){if(t.halfBool&&e%3===0&&e>=r){var i=(new Date).getMinutes();if(i<30)return!0}return!1}for(var o=0;o<n.reservedArray.length;o++){if(e===Number(n.reservedArray[o][0]))return!1;if(e>Number(n.reservedArray[o][0])&&a<=Number(n.reservedArray[o][2]))return!1;if(e>Number(n.reservedArray[o][0])&&a<=Number(n.reservedArray[o][2]))return!1;if(e<Number(n.reservedArray[o][0])&&a<=Number(n.reservedArray[o][2])&&a>Number(n.reservedArray[o][0]))return!1;if(e<Number(n.reservedArray[o][2])&&a>Number(n.reservedArray[o][2]))return!1;if("30"===n.reservedArray[o][3]&&e===Number(n.reservedArray[o][2])&&!t.halfBool)return!1}return!0}var i=[];if(t.halfBool){a();for(var o=1;o<=s();o++){var l=o+7+2*(o-1),d=o+6+2*o;i.push(Object(j.jsxs)("div",{className:c(l)?"timeframe":"timeframeReserved",onClick:r.bind(x),children:[Object(j.jsxs)("span",{children:[o+7+2*(o-1),":00-",o+8+2*(o-1),":30"]}),Object(j.jsx)("div",{className:"rezervaceButton flex content-center align-center",children:"Rezervace"})]},l)),i.push(Object(j.jsxs)("div",{className:c(d)?"timeframe":"timeframeReserved",onClick:r.bind(x),children:[Object(j.jsxs)("span",{children:[o+6+2*o,":30-",o+8+2*o,":00"]}),Object(j.jsx)("div",{className:"rezervaceButton flex content-center align-center",children:"Rezervace"})]},d))}a()&&i.push(Object(j.jsxs)("div",{className:c(6+t.workingHours,7+t.workingHours)?"timeframe":"timeframeReserved",onClick:r.bind(x),children:[Object(j.jsxs)("span",{children:[6+t.workingHours,":00-",7+t.workingHours,":30"]}),Object(j.jsx)("div",{className:"rezervaceButton flex content-center align-center",children:"Rezervace"})]},6+t.workingHours))}else if(t.threeHoursBool)for(var m=1;m<=s();m++)i.push(Object(j.jsxs)("div",{className:c(3*(m-1)+8,3*(m-1)+8+t.indexHour)?"timeframe":"timeframeReserved",onClick:r.bind(x),children:[Object(j.jsxs)("span",{children:[3*(m-1)+8,":00-",3*(m-1)+8+t.indexHour,":00"]}),Object(j.jsx)("div",{className:"rezervaceButton flex content-center align-center",children:"Rezervace"})]},3*(m-1)+8+3*(m-1)+8+t.indexHour));else{s().forEach((function(e){i.push(Object(j.jsxs)("div",{className:c(e+8,e+8+t.indexHour)?"timeframe":"timeframeReserved",onClick:r.bind(x),children:[Object(j.jsxs)("span",{children:[e+8,":00-",e+8+t.indexHour,":00"]}),Object(j.jsx)("div",{className:"rezervaceButton flex content-center align-center",children:"Rezervace"})]},e+8+e+8+t.indexHour))}))}var u=Object(j.jsx)("div",{className:"opened__inner-timeframes",children:i});return Object(j.jsx)("div",{id:"openedRef",className:"opened grid relative overflow-hidden",children:Object(j.jsxs)("div",{className:"opened__inner",children:[Object(j.jsxs)("div",{className:"opened__inner-select flex content-between align-center h-p",onClick:function(){n.removeSelect(),n.insertMenu(null,n.date,n.secondDate)}.bind(x),children:[Object(j.jsxs)("p",{className:"pa relative",children:[t.indexHour," Hodina"]}),Object(j.jsx)("svg",{className:"relative",children:Object(j.jsx)("use",{href:"#openedArrow"})})]}),u]})})},f=function(){var e=Object(a.useState)({indexHour:1,halfBool:!1,threeHoursBool:!1,workingHours:14}),t=Object(r.a)(e,2),n=t[0],c=t[1],i=b();function o(e,t,a){c(Object(s.a)(Object(s.a)({},n),{},{indexHour:e,halfBool:t,threeHoursBool:a})),i.insertSelect(),i.removeMenu()}return Object(j.jsxs)("div",{id:"chooseHours",children:[Object(j.jsx)("div",{id:"chooseHoursMenu",className:"choose grid overflow-hidden",children:Object(j.jsxs)("div",{className:"hours grid",children:[Object(j.jsx)("span",{className:"flex align-center relative h-p",onClick:function(){return o(1,!1,!1)},children:"1 Hodina"}),Object(j.jsx)("span",{className:"flex align-center relative h-p",onClick:function(){return o(1.5,!0,!1)},children:"1.5 Hodina"}),Object(j.jsx)("span",{className:"flex align-center relative h-p",onClick:function(){return o(2,!1,!1)},children:"2 Hodina"}),Object(j.jsx)("span",{className:"flex align-center relative h-p",onClick:function(){return o(3,!1,!0)},children:"3 Hodina"})]})}),Object(j.jsx)(p,{timeframeData:n})]})},g=void 0,y=function(){var e=b(),t=h(),n=Object(a.useState)(1),s=Object(r.a)(n,2),c=s[0],i=s[1],o=Object(a.useState)(1),l=Object(r.a)(o,2),d=l[0],m=l[1],u=Object(a.useState)(1),O=Object(r.a)(u,2),v=O[0],x=O[1],p=Object(a.useState)(1),f=Object(r.a)(p,2),y=f[0],N=f[1],_=Number(String((new Date).getDate()).padStart(2,"0")),S=["January","February","March","April","May","June","July","August","September","October","November","December"];function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.month;return t===e.currentMonth}function C(){return e.year+e.yearLoop===e.year}function k(t){return(t<_||t>36)&&E()&&C()||t>36&&E(e.month-1)&&t-36+1+(v-c)<_?"daysGone":t===_&&E()&&C()?"days-dates firstDateCss":"days-dates"}function w(){return c>4?4:3}function D(n){var a=n.target;if("secondDate"===a.id)e.secondDate===_&&E()&&C()&&document.getElementsByClassName("secondDateCss")[0].classList.add("firstDateCss"),a.classList.remove("secondDateCss"),a.id=e.secondDate,e.removeMenu(),e.removeSelect(),t({type:e.ACTIONS.SET_SECOND_DATE,payload:{secondDate:0}});else if(!a.classList.contains("daysGone")){0!==e.secondDate&&(document.getElementsByClassName("secondDateCss")[0].id=e.secondDate,e.secondDate===_&&document.getElementsByClassName("secondDateCss")[0].classList.add("firstDateCss"),document.getElementsByClassName("secondDateCss")[0].classList.remove("secondDateCss")),a.classList.remove("firstDateCss"),a.classList.add("secondDateCss");var s,r=a.id;s=a.id>36?(a.id-36+1+(v-c)).toString()+" "+S[e.month-1]+" "+(e.year+e.yearLoop).toString():a.id>31?(a.id-31).toString()+" "+S[e.month+1]+" "+(e.year+e.yearLoop).toString():a.id.toString()+" "+S[e.month],a.id="secondDate",e.removeSelect(),e.insertMenu(a.parentElement.parentElement.classList[0],s,r)}}Object(a.useEffect)((function(){0===new Date((new Date).getFullYear(),e.month,1).getDay()?i(7):i(new Date((new Date).getFullYear(),e.month,1).getDay()),0===new Date((new Date).getFullYear(),e.month+1,0).getDay()?m(7):m(new Date((new Date).getFullYear(),e.month+1,0).getDay()),x(new Date((new Date).getFullYear(),e.month,0).getDate()),N(new Date((new Date).getFullYear(),e.month+1,0).getDate())}),[e.month]);for(var T=[],A=[],L=[],B=1;B<c;B++){var M=B+36;T.push(Object(j.jsx)("div",{id:"".concat(M),className:"nextMonthDates ".concat(k(M)," ").concat(B===c-1?"dateOneTop":""),onClick:D.bind(g),children:B+1+(v-c)},M))}for(var R=1;R<=7-(c-1);R++)T.push(Object(j.jsx)("div",{id:"".concat(R),className:"".concat(k(R)),onClick:D.bind(g),children:R},R));for(var H=1;H<=w();H++){for(var I=[],P=1;P<=7;P++)I.push(Object(j.jsx)("div",{id:"".concat(P+1-c+7*H),className:"".concat(k(P+1-c+7*H)),onClick:D.bind(g),children:P+1-c+7*H},P+1-c+7*H));A.push(Object(j.jsx)("div",{className:"".concat((H+1).toString(),"row"),children:Object(j.jsx)("div",{className:"row grid",children:I})},"".concat((H+1).toString(),"row")))}if(7!==d){for(var F=[],z=1;z<=d;z++)F.push(Object(j.jsx)("div",{className:"days-dates ".concat(k(z+y-d)),id:z+y-d,onClick:D.bind(g),children:z+y-d},z+y-d));F.push(Object(j.jsx)("div",{className:"days-dates nextMonthDates dateOne",id:y+1,onClick:D.bind(g),children:1},y+1));for(var G=1;G<=7-d-1;G++)F.push(Object(j.jsx)("div",{className:"days-dates nextMonthDates",id:G+y+1,onClick:D.bind(g),children:G+1},G+y+1));L.push(Object(j.jsx)("div",{className:"".concat((w()+2).toString(),"row"),children:Object(j.jsx)("div",{className:"row grid",children:F})},w()+2))}return Object(j.jsxs)("div",{className:"calendarDays",children:[Object(j.jsx)("div",{className:"1row",children:Object(j.jsx)("div",{className:"row grid",children:T})}),A,L]})},N=n(5),_=n(16),S=function(){var e=G(),t=Object(N.b)().isMd;return Object(j.jsxs)("div",{className:"grid mx-auto ReservationHeaderBlock",children:[t&&Object(j.jsx)("img",{className:"ReservationHeaderBlock-icon",src:_.a,alt:"Kbely Logo"}),Object(j.jsx)("div",{className:"title max-content",children:"Rezervace"}),Object(j.jsxs)("div",{className:"ReservationInfo flex h-fit-content",children:[Object(j.jsx)("div",{className:"ReservationInfo-date",children:e.date}),t&&Object(j.jsx)("div",{children:",\xa0"}),Object(j.jsx)("div",{className:"ReservationInfo-hours",children:e.time})]})]})},E=n(65),C=n(23),k=function(e){for(var t=e.setPersons,n=e.persons,a=[],s=1;s<=n;s++)a.push(Object(j.jsxs)("div",{className:"h-p flex align-center",onClick:t.bind(undefined,s),children:[s," Osoby",s>1&&Object(j.jsx)("p",{children:"(+100,- K\u010d)"})]}));return[a]},w=function(e){var t=e.name,n=e.price,s=e.infoText,c=Object(a.useState)(!1),i=Object(r.a)(c,2),o=i[0],l=i[1],d=G(),m=K();return Object(j.jsxs)("div",{className:"".concat(o&&"reservationForm__additional-info"," reservationForm__additional grid"),children:[Object(j.jsxs)("div",{className:"wrap grid content-between",children:[Object(j.jsxs)("div",{className:"reservationForm__additional-item flex",children:[Object(j.jsxs)("svg",{className:"tux",children:["Ozdoba"===t&&Object(j.jsx)("use",{href:"#tux"}),"Prossecco"===t&&Object(j.jsx)("use",{href:"#prossecco"}),"Ovocna Misa"===t&&Object(j.jsx)("use",{href:"#strawberry"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:t}),Object(j.jsxs)("p",{children:[n,",- K\u010d"]})]})]}),Object(j.jsxs)("div",{className:"reservationForm__additional-item flex",children:[Object(j.jsxs)("label",{className:"switch",children:[Object(j.jsx)("input",{type:"checkbox",onChange:function(){"Ozdoba"===t?m({type:d.ACTIONS.TOGGLE_OZDOBA}):"Prossecco"===t?m({type:d.ACTIONS.TOGGLE_PROSSECCO}):"Ovocna Misa"===t&&m({type:d.ACTIONS.TOGGLE_MISA})}}),Object(j.jsx)("span",{className:"slider round"})]}),Object(j.jsxs)("svg",{className:"info",viewBox:"0 0 46 46",fill:"none",onClick:function(){return l(!o)},children:[Object(j.jsx)("circle",{cx:"23",cy:"23",r:"22",stroke:"#C7B6DA",strokeWidth:"2"}),!o&&Object(j.jsx)("path",{d:"M27.9512 30.9053L27.6289 32.2236C26.6621 32.6045 25.8906 32.8926 25.3145 33.0879C24.7383 33.293 24.0693 33.3955 23.3076 33.3955C22.1357 33.3955 21.2227 33.1123 20.5684 32.5459C19.9238 31.9697 19.6016 31.2422 19.6016 30.3633C19.6016 30.0215 19.626 29.6748 19.6748 29.3232C19.7236 28.9619 19.8018 28.5566 19.9092 28.1074L21.1104 23.8301C21.2178 23.4199 21.3057 23.0342 21.374 22.6729C21.4521 22.3018 21.4912 21.9648 21.4912 21.6621C21.4912 21.1152 21.3789 20.7344 21.1543 20.5195C20.9297 20.3047 20.5 20.1973 19.8652 20.1973C19.5527 20.1973 19.2305 20.2461 18.8984 20.3438C18.5762 20.4414 18.2979 20.5342 18.0635 20.6221L18.3857 19.3037C19.1768 18.9814 19.9336 18.708 20.6562 18.4834C21.3789 18.249 22.0625 18.1318 22.707 18.1318C23.8691 18.1318 24.7627 18.415 25.3877 18.9814C26.0225 19.5381 26.3398 20.2656 26.3398 21.1641C26.3398 21.3496 26.3154 21.6768 26.2666 22.1455C26.2275 22.6143 26.1494 23.0439 26.0322 23.4346L24.8311 27.6973C24.7334 28.0391 24.6455 28.4297 24.5674 28.8691C24.4893 29.3086 24.4502 29.6406 24.4502 29.8652C24.4502 30.4316 24.5771 30.8174 24.8311 31.0225C25.085 31.2275 25.5244 31.3301 26.1494 31.3301C26.4424 31.3301 26.7744 31.2812 27.1455 31.1836C27.5166 31.0762 27.7852 30.9834 27.9512 30.9053ZM28.2588 13.0195C28.2588 13.7617 27.9756 14.3965 27.4092 14.9238C26.8525 15.4414 26.1787 15.7002 25.3877 15.7002C24.5967 15.7002 23.918 15.4414 23.3516 14.9238C22.7852 14.3965 22.502 13.7617 22.502 13.0195C22.502 12.2773 22.7852 11.6426 23.3516 11.1152C23.918 10.5879 24.5967 10.3242 25.3877 10.3242C26.1787 10.3242 26.8525 10.5879 27.4092 11.1152C27.9756 11.6426 28.2588 12.2773 28.2588 13.0195Z",fill:"#C7B6DA"}),o&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("path",{d:"M31.1299 30.87L30.6464 31.3536L23.1636 23.8709L15.2192 31.8153L14.6847 31.2808L22.6291 23.3364L15.1464 15.8537L15.63 15.3701L23.1127 22.8528L30.7808 15.1847L31.3153 15.7192L23.6472 23.3873L31.1299 30.87Z",fill:"#C7B6DA"}),Object(j.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M32.5442 30.87L30.6464 32.7678L23.1636 25.2851L15.2192 33.2295L13.2705 31.2808L21.2149 23.3364L13.7322 15.8537L15.63 13.9559L23.1127 21.4386L30.7808 13.7705L32.7295 15.7192L25.0614 23.3873L32.5442 30.87ZM31.3153 15.7192L30.7808 15.1847L23.1127 22.8528L15.63 15.3701L15.1464 15.8537L22.6291 23.3364L14.6847 31.2808L15.2192 31.8153L23.1636 23.8709L30.6464 31.3536L31.1299 30.87L23.6472 23.3873L31.3153 15.7192Z",fill:"#C7B6DA"})]})]})]})]}),o&&Object(j.jsx)("div",{className:"reservationForm__additional-info-item",children:s})]})},D=n(21),T=["ACTIONS","dropdown","token","hours"],A=["loading"],L=function(e){var t=e.OnlinePayments,n=Object(D.useStripe)(),c=Object(D.useElements)(),l=G(),m=K(),u=Object(a.useState)({name:"",phone:"",email:"",message:"",loading:!0}),b=Object(r.a)(u,2),h=b[0],O=b[1];function v(e){e.stopPropagation(),m({type:l.ACTIONS.TOGGLE_DROPDOWN})}function x(e){e.preventDefault();var t=e.target.name;O((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(C.a)({},t,e.target.value))}))}function p(){return(p=Object(o.a)(i.a.mark((function e(a){var r,o,j,m,u,b,v,x,p,f,g,y,N,_,S,C;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!h.loading&&n&&c){e.next=3;break}return e.abrupt("return");case 3:if(l.token){e.next=6;break}return document.getElementsByClassName("captcha__wrap")[0].classList.add("highlight"),e.abrupt("return");case 6:if(document.getElementsByClassName("captcha__wrap")[0].classList.remove("highlight"),O((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),o=l.token,j=function(e){e.ACTIONS,e.dropdown,e.token,e.hours;return Object(E.a)(e,T)}(Object.assign(l,function(e){e.loading;return Object(E.a)(e,A)}(h))),!t){e.next=38;break}return m={name:l.name,email:l.email},u=c.getElement(D.CardElement),e.prev=13,e.next=16,d.a.post("api/stripe/",JSON.stringify({cleanData:j}),{headers:{"Content-Type":"application/json"}});case 16:if(b=e.sent,v=b.data,x=v.secret,p=v.id,f=v.message){e.next=31;break}return r=p,e.next=22,n.createPaymentMethod({type:"card",card:u,billing_details:m});case 22:return g=e.sent,y=g.paymentMethod,e.next=26,n.confirmCardPayment(x,{payment_method:y.id});case 26:N=e.sent,(_=N.error)&&console.log(_),e.next=32;break;case 31:throw new Error(f);case 32:e.next=38;break;case 34:e.prev=34,e.t0=e.catch(13),console.log(e.t0.message),O((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}));case 38:return e.next=40,d.a.post("api/reservationItems/",{cleanData:j,stripeId:r,captchaRes:o});case 40:return S=e.sent,(C=S.data.message)&&console.log(C),O((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})})),document.getElementById("reservationExit").click(),e.abrupt("return");case 46:case"end":return e.stop()}}),e,null,[[13,34]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){O((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}))}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("form",{className:"reservationForm",id:"form",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(j.jsx)("svg",{className:"containerWave relative",children:Object(j.jsx)("use",{href:"#containerWave"})}),Object(j.jsxs)("div",{className:"container mx-auto",children:[Object(j.jsxs)("div",{className:"form-grid grid",children:[Object(j.jsx)("input",{required:!0,type:"text",name:"name",placeholder:"Jemno*",value:h.name,onChange:x}),Object(j.jsxs)("div",{className:"reservationForm__select user-select-none",children:[Object(j.jsxs)("div",{className:"reservationForm__select-inner flex content-between align-center h-p",style:l.dropdown?{borderRadius:"10px 10px 0 0"}:{},onClick:v.bind(undefined),children:[Object(j.jsxs)("div",{className:"pa flex align-center",children:[l.persons," Osoby"]}),l.persons>1&&Object(j.jsxs)("p",{children:["(+",l.persons-1,"00,- K\u010d)"]}),Object(j.jsx)("svg",{id:"formArrow",style:l.dropdown?{transform:"rotate(180deg)"}:null,children:Object(j.jsx)("use",{href:"#openedArrow"})})]}),Object(j.jsx)("div",{className:"reservationForm__select-list h-fit-content overflow-hidden ".concat(l.dropdown?"grid":"none"),children:Object(j.jsx)(k,{persons:4,setPersons:function(e,t){m({type:l.ACTIONS.SET_PERSONS,payload:{persons:e}}),v(t)}})})]}),Object(j.jsx)("input",{required:!0,type:"tel",name:"phone",id:"telephone",placeholder:"Telefon*",value:h.phone,onChange:x}),Object(j.jsx)("input",{required:!0,type:"email",name:"email",placeholder:"E-mail*",value:h.email,onChange:x}),Object(j.jsx)("textarea",{"v-model":"formData.message",type:"text",name:"message",placeholder:"Dalsi pozadavky\nTreba jokou chcete hudbu...",value:h.message,onChange:x})]}),Object(j.jsx)(w,{name:"Ozdoba",price:350,infoText:"Sauna is located in noiseless part of Prague, only a 15-minute drive from the historical city centre. It offers free Wi-Fi, free parking and English breakfast. All rooms provide satellite TV, a bathroom and a seating area."}),Object(j.jsx)(w,{name:"Prossecco",price:290,infoText:"Sauna is located in noiseless part of Prague, only a 15-minute drive from the historical city centre. It offers free Wi-Fi, free parking and English breakfast. All rooms provide satellite TV, a bathroom and a seating area."}),Object(j.jsx)(w,{name:"Ovocna Misa",price:350,infoText:"Sauna is located in noiseless part of Prague, only a 15-minute drive from the historical city centre. It offers free Wi-Fi, free parking and English breakfast. All rooms provide satellite TV, a bathroom and a seating area."})]})]}),h.loading&&Object(j.jsx)("div",{className:"flex content-center align-center fixed overflow-hidden LoadingBlock",children:Object(j.jsx)("div",{className:"spin flex"})})]})},B=n(64),M={style:{base:{iconColor:"#000",color:"#000",fontFamily:"Work Sans, sans-serif",fontSize:"1.25rem",fontSmoothing:"antialiased",":-webkit-autofill":{color:"#fce883"},"::placeholder":{color:"#2b3a77"}},invalid:{iconColor:"#FFC7EE",color:"red"}}},R=function(e){var t=e.OnlinePayments,n=e.setOnlinePayments,s=G(),r=K(),c=799;15===s.hours?c=1099:2===s.hours?c=1399:3===s.hours&&(c=1899),Object(a.useEffect)((function(){document.getElementsByClassName("SummaryBlock__payingMethods-item")[0].click()}),[]);return Object(j.jsxs)("div",{className:"SummaryBlock-wrap",children:[Object(j.jsx)("svg",{className:"containerWave relative",children:Object(j.jsx)("use",{href:"#containerWave"})}),Object(j.jsxs)("div",{className:"SummaryBlock grid mx-auto",children:[Object(j.jsxs)("div",{className:"SummaryBlock__costs",children:[Object(j.jsxs)("div",{className:"SummaryBlock__costs-item flex content-between",children:[Object(j.jsxs)("div",{className:"grid",children:[Object(j.jsxs)("span",{children:[s.date,",\xa0"]}),Object(j.jsxs)("span",{children:["od ",s.time]})]}),Object(j.jsxs)("div",{children:[c,",\u2013 K\u010d"]})]}),Object(j.jsxs)("div",{className:"SummaryBlock__costs-item flex content-between",children:[Object(j.jsxs)("div",{children:[s.persons," osoby"]}),Object(j.jsxs)("div",{children:[100*s.persons,",\u2013 K\u010d"]})]}),s.ozdoba&&Object(j.jsxs)("div",{className:"SummaryBlock__costs-item flex content-between",children:[Object(j.jsx)("div",{children:"Ozdoba"}),Object(j.jsxs)("div",{children:[350,",\u2013 K\u010d"]})]}),s.prossecco&&Object(j.jsxs)("div",{className:"SummaryBlock__costs-item flex content-between",children:[Object(j.jsx)("div",{children:"Prossecco"}),Object(j.jsxs)("div",{children:[290,",\u2013 K\u010d"]})]}),s.misa&&Object(j.jsxs)("div",{className:"SummaryBlock__costs-item flex content-between",children:[Object(j.jsx)("div",{children:"Misa"}),Object(j.jsxs)("div",{children:[350,",\u2013 K\u010d"]})]}),Object(j.jsxs)("div",{className:"SummaryBlock__costs-total SummaryBlock__costs-item flex content-between",children:[Object(j.jsx)("div",{children:"Total:"}),Object(j.jsxs)("div",{children:[100*s.persons+c+(s.ozdoba?350:0)+(s.prossecco?290:0)+(s.misa?350:0),",\u2013 K\u010d"]})]})]}),Object(j.jsxs)("div",{className:"SummaryBlock__voucher flex content-between align-center",children:[Object(j.jsx)("div",{className:"SummaryBlock__voucher-text",children:"Mam voucher"}),Object(j.jsx)("div",{className:"SummaryBlock__voucher-button h-p align-center flex content-space-around",children:"Uplatnit"})]}),Object(j.jsxs)("div",{className:"SummaryBlock__payingMethods",children:[Object(j.jsxs)("label",{className:"SummaryBlock__payingMethods-item grid relative content-between h-p align-center user-select-none",children:[Object(j.jsxs)("div",{className:"SummaryBlock__payingMethods-method",children:["Bankovn\xed p\u0159evod",Object(j.jsx)("input",{type:"radio",name:"radio",form:"form",onChange:function(){return n(!0)}}),Object(j.jsx)("span",{className:"checkmark"})]}),Object(j.jsx)("div",{className:"SummaryBlock__payingMethods-item-info",children:"Prevodem obvykle 2 dni"})]}),Object(j.jsxs)("label",{className:"SummaryBlock__payingMethods-item grid relative content-between h-p align-center user-select-none",children:[Object(j.jsxs)("div",{className:"SummaryBlock__payingMethods-method",children:["Hotov\xe9",Object(j.jsx)("input",{type:"radio",name:"radio",form:"form",onChange:function(){return n(!1)}}),Object(j.jsx)("span",{className:"checkmark"})]}),Object(j.jsx)("div",{className:"SummaryBlock__payingMethods-item-info",children:"Hotove nebo kartou pri prichodu"})]}),Object(j.jsxs)("label",{className:"SummaryBlock__payingMethods-item grid relative content-between h-p align-center user-select-none",children:[Object(j.jsxs)("div",{className:"SummaryBlock__payingMethods-item-method",children:["Platba Online",Object(j.jsx)("input",{type:"radio",name:"radio",form:"form",onChange:function(){return n(!0)}}),Object(j.jsx)("span",{className:"checkmark"})]}),Object(j.jsx)("div",{className:"SummaryBlock__payingMethods-item-info",children:"Kartou Online"})]}),Object(j.jsx)("div",{id:"stripe-card",required:!0,className:"overflow-hidden ".concat(t?"cardShow":"cardHide"),children:Object(j.jsx)(D.CardElement,{options:M})}),Object(j.jsx)("div",{className:"min-content mx-auto captcha__wrap",children:Object(j.jsx)(B.a,{sitekey:"6Le428QbAAAAAJtzzkOgPTjuGq8xp2uvjN79yGEf",onChange:function(e){r({type:s.ACTIONS.SET_TOKEN,payload:{token:e}})}})})]}),Object(j.jsx)("button",{type:"submit",className:"SummaryBlock__rezervovat h-p mx-auto align-center",form:"form",children:"Rezervovat"})]})]})},H=n(62),I=void 0,P=Object(H.a)("pk_test_51JC9K9BJ2QoFP7mPuFYpU6P3MSU7T2ytOURjiAAu9ZuG2JeRuKUi9tU8HV9Eh4BGuCSxsDnpxrQ02fvADiY1dDpD00i37yMksj"),F=Object(a.createContext)(),z=Object(a.createContext)();function G(){return Object(a.useContext)(F)}function K(){return Object(a.useContext)(z)}var W={SET_DROPDOWN_FALSE:"setDropdownFalse",SET_PERSONS:"setPersons",SET_TOKEN:"setToken",SET_FORMDATA:"setFormData",TOGGLE_OZDOBA:"toggleOzdoba",TOGGLE_PROSSECCO:"toggleProssecco",TOGGLE_MISA:"toggleMisa",TOGGLE_DROPDOWN:"toggleDropdown",UNSET_TOKEN:"unsetToken"},Y=function(){var e=b(),t=h(),n=Object(a.useState)(!0),c=Object(r.a)(n,2),i=c[0],o=c[1];var l=Object(a.useReducer)((function(e,t){switch(t.type){case W.SET_FORMDATA:return Object(s.a)(Object(s.a)({},e),{},{email:t.payload.email,phone:t.payload.phone,name:t.payload.name,message:t.payload.message});case W.UNSET_TOKEN:return Object(s.a)(Object(s.a)({},e),{},{token:null});case W.SET_TOKEN:return Object(s.a)(Object(s.a)({},e),{},{token:t.payload.token});case W.SET_DROPDOWN_FALSE:return Object(s.a)(Object(s.a)({},e),{},{dropdown:!1});case W.TOGGLE_DROPDOWN:return Object(s.a)(Object(s.a)({},e),{},{dropdown:!e.dropdown});case W.SET_PERSONS:return Object(s.a)(Object(s.a)({},e),{},{persons:t.payload.persons});case W.TOGGLE_OZDOBA:return Object(s.a)(Object(s.a)({},e),{},{ozdoba:!e.ozdoba});case W.TOGGLE_MISA:return Object(s.a)(Object(s.a)({},e),{},{misa:!e.misa});case W.TOGGLE_PROSSECCO:return Object(s.a)(Object(s.a)({},e),{},{prossecco:!e.prossecco});default:return console.log("error")}}),{date:e.date,time:e.time,hours:e.hours,persons:1,misa:!1,prossecco:!1,ozdoba:!1,token:null,dropdown:!1,ACTIONS:W}),d=Object(r.a)(l,2),m=d[0],u=d[1];function O(n){n.stopPropagation(),t({type:e.ACTIONS.SET_TIME,payload:{time:null}})}return Object(a.useEffect)((function(){document.getElementById("reservation").scrollIntoView(!0),document.getElementsByTagName("body")[0].style.overflow="hidden"}),[]),Object(j.jsx)("div",{className:"pre-reserv fixed overflow-hidden",children:Object(j.jsx)("div",{className:"Reservation x-hidden y-scroll scroll-hidden",onClick:O.bind(I),children:Object(j.jsxs)("div",{className:"Reservation__reservationForm mx-auto relative",id:"reservation",onClick:function(e){e.stopPropagation(),u({type:W.SET_DROPDOWN_FALSE})}.bind(I),children:[Object(j.jsx)("div",{className:"Reservation__reservationForm-exit h-p absolute flex content-center align-center",id:"reservationExit",onClick:O.bind(I),children:Object(j.jsxs)("svg",{viewBox:"0 0 23 23",children:[Object(j.jsx)("rect",{x:"3.01471",y:"0.893433",width:"27",height:"3",rx:"1.5",transform:"rotate(45 3.01471 0.893433)"}),Object(j.jsx)("rect",{x:"22.1066",y:"3.01477",width:"27",height:"3",rx:"1.5",transform:"rotate(135 22.1066 3.01477)"})]})}),Object(j.jsx)(D.Elements,{stripe:P,children:Object(j.jsx)(F.Provider,{value:m,children:Object(j.jsxs)(z.Provider,{value:u,children:[Object(j.jsx)(S,{}),Object(j.jsx)(L,{OnlinePayments:i}),Object(j.jsx)(R,{OnlinePayments:i,setOnlinePayments:o})]})})})]})})})},U=function(){var e=b(),t=h();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"cat h-fit-content overflow-hidden relative user-select-none",children:[Object(j.jsxs)("div",{className:"cat__header",children:[Object(j.jsxs)("div",{className:"month flex content-center align-center",children:[Object(j.jsx)("svg",{className:"leftArrow h-p",onClick:function(){e.removeMenu(),e.removeSelect(),t({type:e.ACTIONS.DECREASE_MONTH})},children:Object(j.jsx)("use",{href:"#calendarArrow"})}),Object(j.jsx)("div",{className:"month-name flex content-center align-center text-center",children:["Leden","\xdanor","B\u0159ezen","Duben","Kv\u011bten","\u010cerven","\u010cervenec","Srpen","Z\xe1\u0159\xed","\u0158\xedjen","Listopad","Prosinec"][e.month]}),Object(j.jsx)("svg",{className:"h-p",onClick:function(){e.removeMenu(),e.removeSelect(),t({type:e.ACTIONS.INCREASE_MONTH})},children:Object(j.jsx)("use",{href:"#calendarArrow"})})]}),Object(j.jsxs)("div",{className:"weekdays flex align-center",children:[Object(j.jsx)("div",{className:"align-center text-center",children:"Mon"}),Object(j.jsx)("div",{className:"align-center text-center",children:"Tue"}),Object(j.jsx)("div",{className:"align-center text-center",children:"Wed"}),Object(j.jsx)("div",{className:"align-center text-center",children:"Thu"}),Object(j.jsx)("div",{className:"align-center text-center",children:"Fri"}),Object(j.jsx)("div",{className:"align-center text-center",children:"Sat"}),Object(j.jsx)("div",{className:"align-center text-center",children:"Sun"})]})]}),Object(j.jsx)(y,{}),Object(j.jsx)(f,{})]}),e.time?Object(j.jsx)(Y,{}):null]})};t.default=function(){return Object(j.jsxs)("div",{className:"BookBlock mx-auto overflow-hidden",children:[Object(j.jsx)("svg",{className:"containerWave relative",preserveAspectRatio:"none",children:Object(j.jsx)("use",{href:"#containerWave"})}),Object(j.jsx)("div",{className:"BookBlock__wrapper",children:Object(j.jsxs)("div",{className:"mx-auto content",children:[Object(j.jsx)("div",{className:"title mx-auto fit-content",id:"book",children:"Zarezervujete svoji n\xe1v\u0161t\u011bvu"}),Object(j.jsx)("div",{className:"sub-title mx-auto grid fit-content",children:"Vyberte datum a d\xe9lku n\xe1v\u0161t\u011bvy a my nab\xeddneme v\xe1m voln\xe9 term\xedny"}),Object(j.jsxs)("div",{className:"priceAndBook grid content-center overflow-visible",children:[Object(j.jsx)(O,{children:Object(j.jsx)(U,{})}),Object(j.jsxs)("div",{className:"pricelist",children:[Object(j.jsxs)("div",{className:"pricelist__item flex content-between align-center",children:[Object(j.jsx)("div",{className:"pricelist__item-hours sub-title fit-content",children:"1 Hodina"}),Object(j.jsx)("svg",{className:"mx-auto wave",children:Object(j.jsx)("use",{href:"#wave"})}),Object(j.jsx)("div",{className:"sub-title price text-right",children:"799,- K\u010d"})]}),Object(j.jsxs)("div",{className:"pricelist__item flex content-between align-center",children:[Object(j.jsx)("div",{className:"pricelist__item-hours sub-title fit-content",children:"1,5 Hodina"}),Object(j.jsx)("svg",{className:"mx-auto wave",children:Object(j.jsx)("use",{href:"#wave"})}),Object(j.jsx)("div",{className:"sub-title price text-right",children:"1099,- K\u010d"})]}),Object(j.jsxs)("div",{className:"pricelist__item flex content-between align-center",children:[Object(j.jsx)("div",{className:"pricelist__item-hours sub-title fit-content",children:"2 Hodina"}),Object(j.jsx)("svg",{className:"mx-auto wave",children:Object(j.jsx)("use",{href:"#wave"})}),Object(j.jsx)("div",{className:"sub-title price text-right",children:"1399,- K\u010d"})]}),Object(j.jsxs)("div",{className:"pricelist__item flex content-between align-center",children:[Object(j.jsx)("div",{className:"pricelist__item-hours sub-title fit-content",children:"3 Hodina"}),Object(j.jsx)("svg",{className:"mx-auto wave",children:Object(j.jsx)("use",{href:"#wave"})}),Object(j.jsx)("div",{className:"sub-title price text-right",children:"1899,- K\u010d"})]}),Object(j.jsxs)("div",{className:"note",children:["Za p\u0159ekro\u010den\xed doby rezervace je \xfa\u010dtov\xe1n poplatek 300 K\u010d za ka\u017ed\xfdch 15 minut zpo\u017ed\u011bn\xed.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Za ka\u017edou osobu nad 2 osoby \xfa\u010dtujeme doplatek 200,-/osoba."]})]})]})]})})]})}}}]);
//# sourceMappingURL=6.889bfd1e.chunk.js.map